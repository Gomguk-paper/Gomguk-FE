# ìš”ì•½ë³´ê¸° ë²„íŠ¼ ë™ì‘ ê³¼ì •

## ê°œìš”

"ìš”ì•½ ë³´ê¸°" ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ë…¼ë¬¸ì˜ ìƒì„¸ ìš”ì•½ì„ 3ë‹¨ê³„ë¡œ ë‚˜ëˆ„ì–´ ë³´ì—¬ì£¼ëŠ” ìºëŸ¬ì…€ ëª¨ë‹¬ì´ ì—´ë¦½ë‹ˆë‹¤. ì´ ë¬¸ì„œëŠ” í•´ë‹¹ ê¸°ëŠ¥ì˜ ì „ì²´ ë™ì‘ ê³¼ì •ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

## ì „ì²´ í”Œë¡œìš°

```
ì‚¬ìš©ì í´ë¦­ â†’ PaperCard ì»´í¬ë„ŒíŠ¸ â†’ ë¶€ëª¨ í˜ì´ì§€(Home/Search) â†’ SummaryCarousel ì»´í¬ë„ŒíŠ¸ ë Œë”ë§
```

## ìƒì„¸ ë™ì‘ ê³¼ì •

### 1. ì‚¬ìš©ì ì¸í„°ë™ì…˜

**ìœ„ì¹˜**: `PaperCard` ì»´í¬ë„ŒíŠ¸ (`src/components/PaperCard.tsx`)

ì‚¬ìš©ìê°€ ë‹¤ìŒ ë‘ ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ìš”ì•½ë³´ê¸°ë¥¼ ì—´ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

1. **"ìš”ì•½ ë³´ê¸°" ë²„íŠ¼ í´ë¦­** (115-122ì¤„)
   ```tsx
   <Button
     variant="outline"
     size="sm"
     className="ml-auto text-xs"
     onClick={onOpenSummary}
   >
     ìš”ì•½ ë³´ê¸°
   </Button>
   ```

2. **ë…¼ë¬¸ ì œëª© í´ë¦­** (57-62ì¤„)
   ```tsx
   <h3 
     className="font-display font-semibold text-lg leading-snug text-foreground cursor-pointer hover:text-primary transition-colors"
     onClick={onOpenSummary}
   >
     {paper.title}
   </h3>
   ```

**í•µì‹¬**: `PaperCard`ëŠ” `onOpenSummary` propì„ ë°›ì•„ì„œ í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.

---

### 2. ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒíƒœ ê´€ë¦¬

**ìœ„ì¹˜**: `Home.tsx` ë˜ëŠ” `Search.tsx`

#### 2.1 ìƒíƒœ ë³€ìˆ˜ ì„ ì–¸

```tsx
const [carouselOpen, setCarouselOpen] = useState(false);
const [selectedPaperIndex, setSelectedPaperIndex] = useState(0);
```

- `carouselOpen`: ìºëŸ¬ì…€ ëª¨ë‹¬ì˜ ì—´ë¦¼/ë‹«í˜ ìƒíƒœ
- `selectedPaperIndex`: í˜„ì¬ ì„ íƒëœ ë…¼ë¬¸ì˜ ì¸ë±ìŠ¤

#### 2.2 ìºëŸ¬ì…€ ì—´ê¸° í•¨ìˆ˜

```tsx
const openCarousel = (index: number) => {
  setSelectedPaperIndex(index);
  setCarouselOpen(true);
};
```

**ë™ì‘**:
1. í´ë¦­ëœ ë…¼ë¬¸ì˜ ì¸ë±ìŠ¤ë¥¼ `selectedPaperIndex`ì— ì €ì¥
2. `carouselOpen`ì„ `true`ë¡œ ì„¤ì •í•˜ì—¬ ëª¨ë‹¬ ì—´ê¸°

#### 2.3 PaperCardì— ì½œë°± ì „ë‹¬

```tsx
{sortedPapers.map((paper, index) => (
  <PaperCard
    key={paper.id}
    paper={paper}
    onOpenSummary={() => openCarousel(index)}
  />
))}
```

**í•µì‹¬**: ê° `PaperCard`ì— í•´ë‹¹ ë…¼ë¬¸ì˜ ì¸ë±ìŠ¤ë¥¼ í¬í•¨í•œ ì½œë°± í•¨ìˆ˜ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.

---

### 3. SummaryCarousel ì»´í¬ë„ŒíŠ¸ ë Œë”ë§

**ìœ„ì¹˜**: `src/components/SummaryCarousel.tsx`

#### 3.1 Props ì „ë‹¬

```tsx
<SummaryCarousel
  papers={sortedPapers}           // ì „ì²´ ë…¼ë¬¸ ë°°ì—´
  initialIndex={selectedPaperIndex} // ì‹œì‘í•  ë…¼ë¬¸ ì¸ë±ìŠ¤
  open={carouselOpen}             // ì—´ë¦¼ ìƒíƒœ
  onClose={() => setCarouselOpen(false)} // ë‹«ê¸° ì½œë°±
/>
```

#### 3.2 ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ ìƒíƒœ ì´ˆê¸°í™”

```tsx
const [currentPaperIndex, setCurrentPaperIndex] = useState(initialIndex);
const [currentStep, setCurrentStep] = useState<SummaryStep>("hook");
```

- `currentPaperIndex`: í˜„ì¬ í‘œì‹œ ì¤‘ì¸ ë…¼ë¬¸ ì¸ë±ìŠ¤
- `currentStep`: í˜„ì¬ í‘œì‹œ ì¤‘ì¸ ìš”ì•½ ë‹¨ê³„ (`"hook" | "keypoints" | "detailed"`)

#### 3.3 ëª¨ë‹¬ ì—´ë¦´ ë•Œ ìƒíƒœ ë¦¬ì…‹

```tsx
useEffect(() => {
  if (open) {
    setCurrentPaperIndex(initialIndex);
    setCurrentStep("hook");
  }
}, [open, initialIndex]);
```

**ë™ì‘**: ëª¨ë‹¬ì´ ì—´ë¦´ ë•Œë§ˆë‹¤ ì„ íƒëœ ë…¼ë¬¸ìœ¼ë¡œ ì´ë™í•˜ê³  ì²« ë²ˆì§¸ ë‹¨ê³„("hook")ë¡œ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.

---

### 4. ìš”ì•½ ë‚´ìš© í‘œì‹œ (3ë‹¨ê³„)

#### 4.1 ë‹¨ê³„ êµ¬ì¡°

```tsx
type SummaryStep = "hook" | "keypoints" | "detailed";
const steps: SummaryStep[] = ["hook", "keypoints", "detailed"];
```

#### 4.2 ê° ë‹¨ê³„ë³„ ë‚´ìš©

**1ë‹¨ê³„: Hook (í•œì¤„ ìš”ì•½)**
```tsx
{currentStep === "hook" && (
  <div className="animate-fade-in">
    <span className="text-xs font-medium text-primary uppercase tracking-wide">í•œì¤„ ìš”ì•½</span>
    <p className="text-2xl font-display font-medium mt-3 leading-relaxed">
      ğŸ’¡ {summary.hookOneLiner}
    </p>
  </div>
)}
```

**2ë‹¨ê³„: Keypoints (í•µì‹¬ í¬ì¸íŠ¸)**
```tsx
{currentStep === "keypoints" && (
  <div className="animate-fade-in">
    <span className="text-xs font-medium text-primary uppercase tracking-wide">í•µì‹¬ í¬ì¸íŠ¸</span>
    <ul className="mt-4 space-y-3">
      {summary.keyPoints.map((point, i) => (
        <li key={i} className="flex gap-3 items-start text-lg">
          <span className="text-primary font-bold">{i + 1}.</span>
          <span>{point}</span>
        </li>
      ))}
    </ul>
  </div>
)}
```

**3ë‹¨ê³„: Detailed (ìƒì„¸ ì„¤ëª…)**
```tsx
{currentStep === "detailed" && (
  <div className="animate-fade-in">
    <span className="text-xs font-medium text-primary uppercase tracking-wide">ìƒì„¸ ì„¤ëª…</span>
    <p className="mt-4 text-base leading-relaxed text-foreground/90">
      {summary.detailed}
    </p>
    <div className="mt-4 p-3 bg-secondary/50 rounded-lg">
      <span className="text-xs text-muted-foreground">
        ğŸ“š ìš”ì•½ ê·¼ê±°: {summary.evidenceScope === "full" ? "ì „ì²´ ë…¼ë¬¸" : ...}
      </span>
    </div>
  </div>
)}
```

---

### 5. ë„¤ë¹„ê²Œì´ì…˜ ë™ì‘

#### 5.1 ë‹¤ìŒìœ¼ë¡œ ì´ë™ (`goNext`)

```tsx
const goNext = () => {
  if (currentStep === "hook") {
    setCurrentStep("keypoints");
  } else if (currentStep === "keypoints") {
    setCurrentStep("detailed");
  } else {
    // Move to next paper
    if (currentPaperIndex < papers.length - 1) {
      setCurrentPaperIndex(prev => prev + 1);
      setCurrentStep("hook");
    } else {
      onClose(); // ë§ˆì§€ë§‰ ë…¼ë¬¸ì´ë©´ ëª¨ë‹¬ ë‹«ê¸°
    }
  }
};
```

**ë™ì‘ ìˆœì„œ**:
1. í˜„ì¬ ë‹¨ê³„ê°€ "hook" â†’ "keypoints"ë¡œ ì´ë™
2. í˜„ì¬ ë‹¨ê³„ê°€ "keypoints" â†’ "detailed"ë¡œ ì´ë™
3. í˜„ì¬ ë‹¨ê³„ê°€ "detailed" â†’ ë‹¤ìŒ ë…¼ë¬¸ì˜ "hook"ìœ¼ë¡œ ì´ë™
4. ë§ˆì§€ë§‰ ë…¼ë¬¸ì´ë©´ ëª¨ë‹¬ ë‹«ê¸°

#### 5.2 ì´ì „ìœ¼ë¡œ ì´ë™ (`goPrev`)

```tsx
const goPrev = () => {
  if (currentStep === "detailed") {
    setCurrentStep("keypoints");
  } else if (currentStep === "keypoints") {
    setCurrentStep("hook");
  } else {
    // Move to previous paper
    if (currentPaperIndex > 0) {
      setCurrentPaperIndex(prev => prev - 1);
      setCurrentStep("detailed");
    }
  }
};
```

**ë™ì‘ ìˆœì„œ**:
1. í˜„ì¬ ë‹¨ê³„ê°€ "detailed" â†’ "keypoints"ë¡œ ì´ë™
2. í˜„ì¬ ë‹¨ê³„ê°€ "keypoints" â†’ "hook"ìœ¼ë¡œ ì´ë™
3. í˜„ì¬ ë‹¨ê³„ê°€ "hook" â†’ ì´ì „ ë…¼ë¬¸ì˜ "detailed"ë¡œ ì´ë™

#### 5.3 ë„¤ë¹„ê²Œì´ì…˜ íŠ¸ë¦¬ê±° ë°©ë²•

1. **í™”ë©´ íƒ­/í´ë¦­**: ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ í´ë¦­ ì‹œ `goNext()` í˜¸ì¶œ
2. **ì˜¤ë¥¸ìª½ í™”ì‚´í‘œ ë²„íŠ¼**: `goNext()` í˜¸ì¶œ
3. **ì™¼ìª½ í™”ì‚´í‘œ ë²„íŠ¼**: `goPrev()` í˜¸ì¶œ
4. **X ë²„íŠ¼**: ëª¨ë‹¬ ë‹«ê¸° (`onClose()` í˜¸ì¶œ)

---

### 6. UI ìš”ì†Œ

#### 6.1 ìƒë‹¨ ì¸ë””ì¼€ì´í„°

```tsx
<div className="flex items-center gap-2">
  {papers.map((_, i) => (
    <div
      key={i}
      className={cn(
        "h-1 rounded-full transition-all",
        i === currentPaperIndex ? "w-8 bg-primary" : "w-4 bg-muted"
      )}
    />
  ))}
</div>
```

**ê¸°ëŠ¥**: í˜„ì¬ ë³´ê³  ìˆëŠ” ë…¼ë¬¸ì„ ì‹œê°ì ìœ¼ë¡œ í‘œì‹œ (í˜„ì¬ ë…¼ë¬¸ì€ ë” ê¸´ ë°”)

#### 6.2 ë‹¨ê³„ ì¸ë””ì¼€ì´í„°

```tsx
<div className="flex gap-2 mb-4">
  {steps.map((step, i) => (
    <div
      key={step}
      className={cn(
        "h-1 flex-1 rounded-full transition-all",
        i <= stepIndex ? "bg-primary" : "bg-muted"
      )}
    />
  ))}
</div>
```

**ê¸°ëŠ¥**: í˜„ì¬ ìš”ì•½ ë‹¨ê³„ë¥¼ ì‹œê°ì ìœ¼ë¡œ í‘œì‹œ (ì™„ë£Œëœ ë‹¨ê³„ëŠ” primary ìƒ‰ìƒ)

---

### 7. ë°ì´í„° íë¦„

```
papers ë°°ì—´ (Home/Search)
    â†“
SummaryCarousel (papers prop)
    â†“
currentPaperIndexë¡œ í˜„ì¬ ë…¼ë¬¸ ì„ íƒ
    â†“
summaries ë°°ì—´ì—ì„œ paperIdë¡œ ë§¤ì¹­
    â†“
summary ê°ì²´ì—ì„œ currentStepì— ë”°ë¼ ë‚´ìš© í‘œì‹œ
```

**ë°ì´í„° ì†ŒìŠ¤**:
- `papers`: `src/data/papers.ts`ì—ì„œ ê°€ì ¸ì˜¨ ë…¼ë¬¸ ëª©ë¡
- `summaries`: `src/data/papers.ts`ì—ì„œ ê°€ì ¸ì˜¨ ìš”ì•½ ë°ì´í„°

---

### 8. ë‹«ê¸° ë™ì‘

#### 8.1 ë‹«ê¸° ë²„íŠ¼ í´ë¦­

```tsx
<Button variant="ghost" size="icon" onClick={onClose}>
  <X className="w-5 h-5" />
</Button>
```

#### 8.2 ë§ˆì§€ë§‰ ë…¼ë¬¸ì˜ ë§ˆì§€ë§‰ ë‹¨ê³„ì—ì„œ ë‹¤ìŒìœ¼ë¡œ ì´ë™

ë§ˆì§€ë§‰ ë…¼ë¬¸ì˜ "detailed" ë‹¨ê³„ì—ì„œ `goNext()`ë¥¼ í˜¸ì¶œí•˜ë©´ ìë™ìœ¼ë¡œ ëª¨ë‹¬ì´ ë‹«í™ë‹ˆë‹¤.

---

## ìš”ì•½

1. **ì‹œì‘**: ì‚¬ìš©ìê°€ PaperCardì˜ "ìš”ì•½ ë³´ê¸°" ë²„íŠ¼ ë˜ëŠ” ì œëª© í´ë¦­
2. **ìƒíƒœ ì—…ë°ì´íŠ¸**: ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ `carouselOpen = true`, `selectedPaperIndex` ì„¤ì •
3. **ëª¨ë‹¬ ë Œë”ë§**: SummaryCarousel ì»´í¬ë„ŒíŠ¸ê°€ ì „ì²´ í™”ë©´ ëª¨ë‹¬ë¡œ í‘œì‹œ
4. **ë‚´ìš© í‘œì‹œ**: 3ë‹¨ê³„(hook â†’ keypoints â†’ detailed)ë¡œ ìš”ì•½ ë‚´ìš© í‘œì‹œ
5. **ë„¤ë¹„ê²Œì´ì…˜**: íƒ­/í™”ì‚´í‘œ ë²„íŠ¼ìœ¼ë¡œ ë‹¨ê³„ ì´ë™ ë° ë…¼ë¬¸ ê°„ ì´ë™
6. **ì¢…ë£Œ**: X ë²„íŠ¼ í´ë¦­ ë˜ëŠ” ë§ˆì§€ë§‰ ë‹¨ê³„ ì™„ë£Œ ì‹œ ëª¨ë‹¬ ë‹«ê¸°

## ê´€ë ¨ íŒŒì¼

- `src/components/PaperCard.tsx`: ìš”ì•½ë³´ê¸° ë²„íŠ¼ì´ ìˆëŠ” ì¹´ë“œ ì»´í¬ë„ŒíŠ¸
- `src/components/SummaryCarousel.tsx`: ìš”ì•½ ìºëŸ¬ì…€ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸
- `src/pages/Home.tsx`: í™ˆ í˜ì´ì§€ì—ì„œì˜ ì‚¬ìš© ì˜ˆì‹œ
- `src/pages/Search.tsx`: ê²€ìƒ‰ í˜ì´ì§€ì—ì„œì˜ ì‚¬ìš© ì˜ˆì‹œ
- `src/data/papers.ts`: ë…¼ë¬¸ ë° ìš”ì•½ ë°ì´í„° ì†ŒìŠ¤



